# Web App Specification: CSV-to-Bar Chart Visualizer (MVP)

## ðŸ“Œ Overview

This is a single-page React web app that allows a user to upload a CSV file, select two columns (X and Y), and generate a bar chart using Recharts. The MVP supports only bar charts and is designed for local, desktop use with no backend services.

---

## ðŸ”§ Tech Stack

- **Frontend Framework**: React (with Vite)
- **Charting Library**: [Recharts](https://recharts.org/)
- **CSV Parsing**: [PapaParse](https://www.papaparse.com/)
- **File Upload UI**: `<input type="file">`
- **State Management**: React hooks/local component state
- **Deployment**: Local only (run via `vite dev`)

---

## ðŸ§­ User Flow

1. **Step 1**: Upload CSV  
   - Click-to-upload (file input only)
   - Accept `.csv` files only
   - Max row limit (configurable, e.g. 5,000 rows)

2. **Step 2**: Preview CSV  
   - Scrollable table showing parsed data
   - Display columns in CSV order

3. **Step 3**: Select Columns  
   - Dropdown menus for selecting X and Y columns
   - Helper text shown beneath each dropdown
   - Y-axis must contain numeric values
   - Validation checks for missing/empty values
   - "Render Chart" button proceeds to chart

4. **Step 4**: View Chart  
   - Recharts bar chart rendered with:
     - X-axis: selected column
     - Y-axis: selected numeric column
     - Title and axis labels autogenerated
   - "Start Over" button resets flow

---

## ðŸ§  App State

Managed in React state:

- `csvData` â€“ parsed CSV rows (array of objects)
- `headers` â€“ array of column headers
- `xColumn`, `yColumn` â€“ user selections
- `step` â€“ current flow step (upload, preview, select, render)
- `loading` â€“ boolean for spinners
- `error` â€“ string for modal error handling

---

## ðŸ“Š Chart Details

- **Library**: Recharts `<BarChart>`
- **Dynamic Labels**: Title and axes derived from selected column headers
- **Responsiveness**: Desktop only for MVP
- **Missing Data**: Any missing or non-numeric Y-values will trigger an error

---

## ðŸ§ª Validation & Error Handling

- Modal popups for:
  - Non-CSV file uploads
  - Exceeding row limits
  - Non-numeric Y column
  - Missing values in selected columns
  - Duplicate column headers (show warning)
- Skips empty columns in dropdowns
- No normalization of header names (allow spaces/symbols)
- Only UTF-8 CSVs are supported
- All key actions logged to the browser console for debugging

---

## ðŸ§ª Testing Plan

### âœ… Unit Tests
- CSV parser handles headers, blank rows, and cell types
- Validation functions (e.g. `isNumeric`, `hasMissingValues`)
- Component rendering logic (e.g. dropdowns populated in correct order)

### âœ… Manual Tests
- Upload well-formed CSV â†’ render chart
- Upload file with:
  - Missing headers â†’ error
  - Empty rows â†’ included
  - Duplicate headers â†’ warning
  - Non-numeric Y column â†’ error
- "Start Over" resets all state cleanly
- Verify progress bar updates between steps
- Confirm helper text and validation messaging

---

## ðŸ— Stretch Goals (Post-MVP)

- [ ] Support additional chart types (line, scatter, pie)
- [ ] Export chart (PNG, SVG, PDF)
- [ ] Drag-and-drop file upload
- [ ] Row filtering (e.g. `Y > 10`) and capping results
- [ ] Allow going back to previous steps
- [ ] Mobile-friendly layout
- [ ] Use localStorage to remember last field mappings
- [ ] Support other delimiters and encodings (e.g. semicolon, tab, Windows-1252)
- [ ] Basic theming or bar color selection

---

## ðŸ—‚ Folder Structure (Suggested)
```

csv-chart-app/

â”œâ”€â”€ public/

â”‚ Â  â””â”€â”€ index.html

â”œâ”€â”€ src/

â”‚ Â  â”œâ”€â”€ components/

â”‚ Â  â”‚ Â  â”œâ”€â”€ UploadStep.jsx

â”‚ Â  â”‚ Â  â”œâ”€â”€ PreviewStep.jsx

â”‚ Â  â”‚ Â  â”œâ”€â”€ ColumnSelectStep.jsx

â”‚ Â  â”‚ Â  â”œâ”€â”€ ChartStep.jsx

â”‚ Â  â”‚ Â  â””â”€â”€ ProgressBar.jsx

â”‚ Â  â”œâ”€â”€ utils/

â”‚ Â  â”‚ Â  â”œâ”€â”€ csvParser.js

â”‚ Â  â”‚ Â  â””â”€â”€ validators.js

â”‚ Â  â”œâ”€â”€ App.jsx

â”‚ Â  â””â”€â”€ main.jsx

â”œâ”€â”€ vite.config.js

â””â”€â”€ package.json

````
---

## ðŸš€ Getting Started (Dev)

```bash
npm create vite@latest csv-chart-app -- --template react
cd csv-chart-app
npm install recharts papaparse
npm run dev
````

  

---
